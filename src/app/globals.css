/* ======================================================================
   Global Design System — Light Purple + White
   - Arabic RTL by default
   - Accessible focus states
   - Component tokens (cards, buttons, inputs, alerts)
   ====================================================================== */

/* --- Reset & base --- */
*,
*::before,
*::after { box-sizing: border-box; }
html { -webkit-text-size-adjust: 100%; }
body, h1, h2, h3, h4, p, ul, ol, figure { margin: 0; }
img, svg, video { display: block; max-width: 100%; }

/* --- Tokens --- */
:root{
  /* Palette */
  --ink:#201a2d;
  --ink-dim:#5b5671;
  --muted:#6b7280;

  --purple-50:#faf5ff;
  --purple-100:#f3e8ff;
  --purple-200:#e9d5ff;
  --purple-300:#d8b4fe;
  --purple-400:#c084fc;
  --purple-500:#a855f7;
  --purple-600:#9333ea;
  --purple-700:#7c3aed;

  --white:#fff;
  --success:#16a34a;
  --danger:#dc2626;
  --warning:#f59e0b;

  /* Surfaces / borders / shadows */
  --surface: rgba(255,255,255,.96);
  --surface-weak: rgba(255,255,255,.8);
  --border:#ede3ff;
  --shadow-1:0 10px 25px rgba(109, 40, 217, .12);
  --shadow-2:0 14px 40px rgba(109, 40, 217, .16);

  /* Radii & spacing */
  --r-xs:10px; --r-sm:12px; --r-md:16px; --r-lg:18px; --r-xl:22px;
  --sp-1:.25rem; --sp-2:.5rem; --sp-3:.75rem; --sp-4:1rem; --sp-5:1.25rem; --sp-6:1.5rem;

  /* Focus */
  --focus:#d8b4fe;
  /* Layout */
  --topbar-h: 64px;

  /* Glass tokens */
  --glass-bg: rgba(255,255,255,0.14);
  --glass-border: rgba(255,255,255,0.28);
  --glass-shadow-1: 0 10px 25px rgba(124,58,237,.12);
  --glass-shadow-2: 0 14px 40px rgba(124,58,237,.16);
  /* Keep glass neutral (no purple wash over background image) */
  --glass-purple-tint: linear-gradient(0deg, rgba(124,58,237,0.00), rgba(124,58,237,0.00));
}

/* --- Base body --- */
/* globals.css */
body{
  font-family: 'Tajawal', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--ink);
  direction: rtl;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  /* Elegant gradient background for Apple glass look */
  background:
    radial-gradient(1200px 600px at 80% -10%, rgba(124,58,237,.14), rgba(255,255,255,0)),
    radial-gradient(900px 500px at 10% 100%, rgba(168,85,247,.12), rgba(255,255,255,0)),
    linear-gradient(180deg, #fbfbff, #f7f5ff 40%, #ffffff);
  background-attachment: fixed;
}

/* --- Typography --- */
h1, h2 { color: var(--purple-700); text-shadow: 1px 1px 2px rgba(126, 34, 206, .15); }
h1 { font-size: 2.2rem; font-weight: 800; margin-bottom: .6rem; }
h2 { font-size: 1.6rem; font-weight: 700; margin-bottom: .5rem; }
p { font-size: 1.05rem; line-height: 1.8; color: #4a4a4a; }

/* --- Utilities --- */
.container{ max-width:1320px; margin:0 auto; padding:0 16px; }
.page-wrap{ padding-top: 14px; }
.clamp-2{ display:-webkit-box; -webkit-line-clamp:2; line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
.hidden { display:none !important; }

/* --- Focus visibility --- */
:where(a, button, input, textarea, select, summary, .btn):focus-visible{
  outline: 3px solid var(--focus);
  outline-offset: 2px;
  border-radius: var(--r-sm);
}

/* --- Buttons (generic) --- */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  min-height:42px; padding:.6rem 1rem; font-weight:800; border-radius: var(--r-sm);
  border:1px solid var(--glass-border);
  background: var(--glass-purple-tint), var(--glass-bg);
  -webkit-backdrop-filter: blur(14px) saturate(160%);
  backdrop-filter: blur(14px) saturate(160%);
  color: inherit;
  box-shadow: var(--glass-shadow-1); transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
  text-decoration:none; cursor: pointer;
}
.btn:hover{ transform: translateY(-2px); box-shadow: var(--glass-shadow-2); }
.btn:disabled{ opacity:.65; cursor:not-allowed; }
.btn-primary{ background: linear-gradient(90deg, var(--purple-700), var(--purple-500)); color: #fff; border: none; }
.btn-outline{ background: var(--glass-purple-tint), var(--glass-bg); color: var(--purple-700); border:1px solid var(--purple-200); }

/* --- Inputs (generic) --- */
.input{
  width:100%; padding:.65rem .8rem; border-radius: var(--r-sm);
  border:1px solid var(--glass-border);
  background: var(--glass-purple-tint), var(--glass-bg);
  -webkit-backdrop-filter: blur(14px) saturate(160%);
  backdrop-filter: blur(14px) saturate(160%);
  color:var(--ink);
  transition: border-color .15s ease, box-shadow .15s ease;
}
.input::placeholder{ color:#9ca3af; }
.input:focus{ border-color: var(--purple-300); box-shadow: 0 0 0 3px rgba(216,180,252,.35); outline: none; }

.textarea{ resize: vertical; }

/* --- Cards (generic) --- */
.card{
  background: var(--glass-purple-tint), var(--glass-bg);
  border:1px solid var(--glass-border);
  -webkit-backdrop-filter: blur(14px) saturate(160%);
  backdrop-filter: blur(14px) saturate(160%);
  border-radius: var(--r-lg);
  box-shadow: none;
  overflow:hidden;
}

/* --- Tables (admin) --- */
.table{ width:100%; border-collapse: separate; border-spacing:0; }
.table thead th{
  background: var(--glass-purple-tint), var(--glass-bg);
  color:#4c1d95; /* purple-900 */
  font-weight:800; text-align:right; padding:.65rem .75rem; border-bottom:1px solid #e9d5ff;
  position: sticky; top: 0; z-index: 1;
}
.table tbody td{ padding:.6rem .75rem; border-bottom:1px solid #f3e8ff; }
.table tbody tr:hover{ background:#faf5ff; }
.table .actions { display:flex; gap:8px; }

/* Responsive tables: stack rows on small screens (avoid horizontal slide) */
@media (max-width: 640px){
  .table.responsive thead{ display:none; }
  .table.responsive tbody tr{ display:block; border:1px solid #f3e8ff; border-radius:12px; margin:10px 0; background:#fff; }
  .table.responsive tbody td{ display:flex; align-items:center; justify-content:space-between; padding:.65rem .8rem; border-bottom:1px dashed #f3e8ff; }
  .table.responsive tbody td:last-child{ border-bottom:none; }
  .table.responsive tbody td::before{ content: attr(data-th); color:#4c1d95; font-weight:800; margin-inline-end:10px; }
  .table.responsive .actions{ justify-content:flex-start; }
}

/* Make admin nav buttons consistent in navbar */
.topbar .btn, .topbar .btn-primary, .topbar .btn-outline{
  min-height:38px; height:38px; padding:0 12px;
}

/* --- Free Call: wider and more spacious on desktop --- */
@media (min-width: 960px){
  .fc-hero{ max-width: 960px; margin-left:auto; margin-right:auto; }
}

/* --- Alerts --- */
.alert{ padding:.7rem .9rem; border-radius: var(--r-sm); font-weight:700; }
.alert-success{ background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0; }
.alert-danger{ background:#fef2f2; color:#991b1b; border:1px solid #fecaca; }

/* --- Navbar --- */
.topbar{
  position: sticky; top: 0; z-index: 40;
  background: rgba(255,255,255,0.14);
  border-bottom: 1px solid rgba(255,255,255,0.28);
  -webkit-backdrop-filter: blur(14px) saturate(160%);
  backdrop-filter: blur(14px) saturate(160%);
  box-shadow: 0 10px 30px rgba(124,58,237,.08);
}
.topbar .container{ display:flex; align-items:center; justify-content:space-between; height: var(--topbar-h); gap: 12px; }
.brand{ display:inline-flex; align-items:center; gap:10px; font-weight:900; letter-spacing:.5px; }
.brand-logo{ height:48px; width:auto; display:block; border-radius:6px; object-fit:contain; }
.brand-mark{ display:inline-block; font-size:1.35rem; font-weight:900; letter-spacing:.4px;
  background: linear-gradient(90deg, var(--purple-700), var(--purple-500));
  -webkit-background-clip:text; background-clip:text; color: transparent;
}
.nav{ display:flex; align-items:center; gap:8px; }
.nav-link{
  @supports not (gap: 8px) { margin-inline: 4px; } /* fallback for ancient browsers */
  display:inline-flex; align-items:center; justify-content:center;
  height:38px; padding:0 14px; border-radius: var(--r-sm);
  background: var(--white); border:1px solid rgba(0,0,0,.06);
  box-shadow: var(--shadow-1); font-weight:700; transition: transform .15s ease, box-shadow .15s ease;
}
.nav-link:hover{ transform: translateY(-2px); box-shadow: var(--shadow-2); }
.nav-login{ color: var(--purple-700); border-color: var(--purple-300); }

/* Topbar auth actions — responsive */
.topbar .auth-actions{ display:flex; align-items:center; gap:8px; }
.topbar .btn-nav{ height:36px; padding:0 12px; border-radius: 10px; }
.topbar .btn-nav.btn-primary{ background: linear-gradient(90deg, var(--purple-700), var(--purple-600)); color:#fff; border:none; }
.topbar .btn-nav.btn-outline{ background: rgba(255,255,255,.85); border:1px solid #e5e7eb; color:#4c1d95; }
.topbar .btn-nav:hover{ transform: translateY(-1px); }

@media (max-width: 600px){
  .topbar .container{ flex-wrap: wrap; height: auto; padding-block: 8px; }
  .topbar .auth-actions{ width:100%; justify-content: flex-end; padding-top: 6px; border-top: 1px solid #eee; }
}

/* --- Modal / Admin styles --- */
.admin .btn{ box-shadow:none; }
.admin .btn-outline{ background:transparent; }
.admin .btn:hover{ box-shadow: var(--shadow-1); }
.admin .section-toolbar{ padding:8px 0; border-bottom:1px solid #eee; }
.admin .admin-tabs{ padding: 0 0 8px; border-bottom: 1px solid #e5e7eb; background: transparent; }
.admin .admin-tab{ min-height: 40px; }
.admin .admin-header{ padding: 8px 0 12px; border-bottom:1px solid #e5e7eb; margin-bottom: 12px; background: transparent; }

/* ===== Admin — new glass/water shell ===== */
.admin-shell{ padding: 16px; display: grid; gap: 24px; }
.admin-header-card{ position: static; border-radius: var(--r-xl); padding: 18px; margin-bottom: 0; }
.admin-header-row{ display:flex; align-items:flex-start; justify-content:space-between; gap:14px; flex-wrap:wrap; }
.admin-title{ font-size: clamp(1.4rem, 2vw + 0.8rem, 1.8rem); font-weight: 900; color:#6d28d9; margin: 0; }
.admin-sub{ color:#5b5671; font-size:.92rem; }
.admin-head-tools{ display:flex; gap:8px; flex-wrap:wrap; }
.admin-head-tools .btn{ height:36px; border-radius: 12px; }

.admin-action{ position: static; border-radius: 14px; padding: 12px 16px; display:flex; gap:12px; flex-wrap:wrap; align-items:center; justify-content:flex-start; margin-top: 16px; }
.admin-pill{ appearance:none; border:none; background: rgba(255,255,255,.85); color:#4c1d95; border:1px solid #e9d5ff; height:36px; padding:0 12px; border-radius:999px; font-weight:900; cursor:pointer; box-shadow: 0 8px 18px rgba(124,58,237,.10); transition: transform .18s ease, box-shadow .18s ease, background .18s ease; position: relative; }
.admin-pill:hover{ transform: translateY(-2px); box-shadow: 0 14px 28px rgba(124,58,237,.16); }
.admin-pill.is-active{ background: linear-gradient(90deg, #7c3aed, #a855f7); color:#fff; border-color: transparent; }
.admin-pill.is-active::after{ content:""; position:absolute; right:10px; left:10px; bottom:-6px; height:6px; border-radius:999px; background: radial-gradient(50% 100% at 50% 0%, rgba(124,58,237,.35), rgba(124,58,237,0)); filter: blur(4px); }

.admin-content{ border-radius: var(--r-xl); padding: 18px; box-shadow: var(--shadow-1); margin-top: 0; }
.admin-content .card{ background: transparent; border:1px solid var(--border); border-radius: 12px; }
.admin-content .table thead th{ position: sticky; top: 0; z-index: 1; }
.admin-content .table tbody tr:nth-child(odd){ background: rgba(243,232,255,.35); }
.admin-content .actions .btn{ height:32px; border-radius: 10px; }

@media (max-width: 1024px){
  .admin-header-card{ position: static; }
  .admin-action{ position: static; padding: 12px 14px; gap:12px; }
}

@media (max-width: 900px){
  .admin-shell{ padding: 12px; gap: 20px; }
  .admin-action{ display:grid; grid-template-columns: repeat(auto-fit,minmax(140px,1fr)); gap:10px; padding: 12px; margin-top: 12px; }
  .admin-pill{ width:100%; justify-content:center; }
  .admin-content{ padding: 12px; }
}

@media (max-width: 640px){
  .admin-header-row{ flex-direction: column; align-items:flex-start; gap:10px; }
  .admin-head-tools{ width:100%; }
  .admin-head-tools .btn{ flex:1; }
  .admin-action{ grid-template-columns: 1fr; }
}

/* Admin charts row: force one line on wide screens */
.admin-charts-row{ display:flex; gap: 12px; flex-wrap: wrap; align-items: stretch; }
@media (min-width: 1024px){ .admin-charts-row{ flex-wrap: nowrap; } }
.admin-chart{ flex: 1 1 0; min-width: 260px; }


.modal-backdrop{
  position: fixed; inset: 0; z-index: 1000;
  background: rgba(15,23,42,.24);
  display:flex; align-items:center; justify-content:center;
  padding: clamp(16px, 5vw, 32px);
  overflow-y: auto;
}
.modal-card{
  width: min(680px, 100%);
  border-radius: 22px;
  background: var(--glass-purple-tint), var(--glass-bg);
  -webkit-backdrop-filter: blur(26px) saturate(170%);
  backdrop-filter: blur(26px) saturate(170%);
  border:1px solid var(--glass-border);
  box-shadow: 0 12px 32px rgba(148,163,184,.08);
  padding: clamp(18px, 4vw, 28px);
  margin: auto;
}
.modal-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom: 8px; }
.modal-form{ display:flex; flex-direction:column; gap: 10px; }
.grid2{ display:grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.admin-list{ list-style:none; padding:0; margin: 8px 0 0; display:flex; flex-direction:column; gap:8px; }
.admin-row{ display:flex; align-items:center; justify-content:space-between; padding:8px; border:1px solid #eee; border-radius: 10px; background:#fff; }
.admin-row-main{ display:flex; align-items:center; gap:8px; }
.tag{ display:inline-flex; align-items:center; height:24px; padding:0 8px; border-radius:999px; font-size:.8rem; font-weight:800; }
.tag-book{ background:#eef2ff; color:#3730a3; }
.tag-video{ background:#fff7ed; color:#9a3412; }
.link{ color: var(--purple-700); text-decoration: underline; }

/* --- Route change progress bar --- */
.route-progress{
  position: fixed; left: 0; right: 0; top: 0; height: 3px; z-index: 60;
  background: linear-gradient(90deg, var(--purple-300), var(--purple-600));
  opacity: 0; transform: translateY(-6px);
  transition: opacity .15s ease, transform .15s ease;
}
.route-progress.is-visible{ opacity: 1; transform: translateY(0); }

/* --- Free Call page styles --- */
.fc-wrapper { text-align: center; }
.fc-avatar { width:160px; height:160px; margin: 0 auto; border-radius: 999px; overflow:hidden; border:4px solid rgba(124,58,237,.25); box-shadow: none; }
.fc-hero { border-radius: var(--r-xl); padding: 24px; margin-top: 16px; border: none; box-shadow: none; }
.fc-title { font-size: 1.8rem; font-weight: 800; color: var(--purple-800, #6d28d9); margin: 0 0 10px; }
.fc-list { list-style: none; padding: 0; margin: 0; color: #404252; line-height: 1.9; }
.fc-calendar { display:flex; justify-content:center; margin-top: 12px; }
.fc-picked { margin-top: 12px; color: var(--purple-800, #6d28d9); font-weight: 800; }
.fc-time-buttons { margin-top: 12px; display:flex; flex-wrap:wrap; gap:8px; justify-content:center; }
.fc-form { margin-top: 16px; max-width: 520px; margin-inline: auto; text-align: right; display:flex; flex-direction:column; gap:8px; }
.fc-muted { color:#5b5671; }
.fc-section { margin: 14px auto; }

/* Calendar available day glow */
.fc-available-day {
  background: #f3e8ff !important; /* purple-100 */
  border: 1px solid #e9d5ff !important; /* purple-200 */
  border-radius: 10px;
  box-shadow: 0 0 0 2px rgba(216,180,252,.6) inset; /* soft glow */
}

/* calendar notes */
.highlight-note { position: relative; }
.note-tooltip { display:inline-flex; align-items:center; justify-content:center; width:18px; height:18px; border-radius:999px; background:#ede3ff; color:#7c3aed; font-size:.8rem; }
.note-text { position:absolute; right:0; top:100%; background:#fff; border:1px solid #eee; box-shadow: var(--shadow-1); padding:4px 6px; border-radius:8px; white-space:nowrap; transform: translateY(4px); }

/* No-access block */
.fc-noaccess-wrap { max-width:640px; padding:24px 16px; margin:0 auto; }
.fc-card { padding:18px; }
.fc-header { text-align:center; margin-bottom:10px; }
.fc-subtle { color:#5b5671; margin:0; }
.fc-alert-space { margin-bottom:14px; }

/* ======================================================================
   Free Call section (kept from your file, just polished slightly)
   ====================================================================== */
/* ===== Free Call – text polish (Arabic, RTL) ===== */
.main-container .fc-h1{
  font-weight: 900;
  letter-spacing: -.02em;
  color: #6d28d9;             /* var(--purple-700) */
  text-shadow: 0 1px 0 rgba(109,40,217,.08);
}
.main-container .fc-h2{
  font-weight: 800;
  letter-spacing: -.01em;
  color: #7c3aed;             /* var(--purple-700) */
}
.main-container .fc-h3{
  font-weight: 800;
  color: #7c3aed;
}

.main-container .fc-sub{
  margin: .25rem auto 0;
  max-width: 48rem;           /* comfy measure for Arabic lines */
  color: #404252;
  line-height: 1.9;
}
.main-container .fc-sub strong{
  color: #6d28d9;
  font-weight: 900;
}

.main-container .fc-list{
  list-style: none;
  padding: 0;
  margin: .5rem auto 0;
  max-width: 44rem;
  color: #374151;
}
.main-container .fc-list li{
  position: relative;
  padding-right: 1.4rem;      /* RTL: space for check/emoji on the right */
  line-height: 1.9;
  font-weight: 600;
}
.main-container .fc-list li::before{
  content: '✓';
  position: absolute;
  right: 0;
  top: 0;
  color: #7c3aed;
  font-weight: 900;
  transform: translateY(2px);
}





.dl-section {
  max-width: 420px;
  margin: 2rem auto;
  padding: 1.5rem;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
}
.dl-title {
  text-align: center;
  color: #7c3aed;
  font-weight: 900;
  margin-bottom: 1rem;
}
.dl-sub {
  text-align: center;
  color: #555;
  margin-bottom: 1.25rem;
}
.dl-warn {
  text-align: center;
  color: #dc2626;
  font-weight: 700;
  margin-bottom: 1rem;
}
.dl-form {
  display: grid;
  gap: 0.75rem;
}
.dl-input {
  padding: 0.75rem;
  border-radius: 8px;
  border: 1px solid #ddd;
  font-size: 1rem;
}
.dl-input:focus {
  border-color: #a78bfa;
  outline: none;
  box-shadow: 0 0 0 3px rgba(167, 139, 250, 0.3);
}
.dl-btn {
  background: linear-gradient(90deg, #7c3aed, #9333ea);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 0.85rem;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}
.dl-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(124, 58, 237, 0.25);
}
.dl-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}
.dl-alert {
  margin-top: 1rem;
  padding: 0.8rem;
  border-radius: 8px;
  font-weight: 700;
  text-align: center;
}
.dl-alert-success {
  background: #ecfdf5;
  color: #065f46;
  border: 1px solid #a7f3d0;
}
.dl-alert-danger {
  background: #fef2f2;
  color: #991b1b;
  border: 1px solid #fecaca;
}
.dl-hp {
  display: none;
}
/* ======================================================================
   Storefront (home) — hero, grid, product card
   ====================================================================== */
/* Storefront wrapper: explicit purple background with darker bubble blobs */
#storefront.sf-wrapper{
  --sf-bg: transparent;
  --sf-ink: var(--ink);
  --sf-ink-dim: var(--ink-dim);
  --sf-purple: var(--purple-700);
  --sf-purple-2: var(--purple-600);
  --sf-book: #ede9fe;
  --sf-video: #e0f2fe;
  --sf-card: var(--surface);
  --sf-border: var(--border);
  --sf-shadow: var(--shadow-1);
  --sf-radius: var(--r-lg);
  background: url('/background.jpg') center center / cover fixed;
  min-height: 100dvh;
  color: var(--sf-ink);
  padding: 2rem 1rem 3rem;
}

/* Hero */
#storefront .sf-hero{ text-align:center; margin:0 auto 1rem; max-width: 1200px; }
#storefront .hero-card{
  background: rgba(255,255,255,0.10); border:1px solid rgba(255,255,255,0.22);
  -webkit-backdrop-filter: blur(14px) saturate(160%);
  backdrop-filter: blur(14px) saturate(160%);
  border-radius: var(--r-xl); padding: 24px; box-shadow: 0 14px 40px rgba(124,58,237,.12);
}
#storefront .sf-title{
  font-weight: 900; font-size: clamp(1.8rem,2.4vw + 1rem,2.6rem);
  color: var(--sf-purple);
  letter-spacing: -0.02em; margin-bottom: .6rem;
}
#storefront .sf-subtitle{ color: var(--sf-ink-dim); }
#storefront .sf-bold{ font-weight: 800; color: var(--sf-purple); }
#storefront .sf-hero-actions{ margin-top: 1rem; }
#storefront .sf-cta{
  display:inline-block; background: var(--sf-purple); color:#fff;
  padding:.6rem 1rem; border-radius: var(--r-sm); box-shadow: var(--sf-shadow);
  transition: transform .2s cubic-bezier(.2,.8,.2,1), box-shadow .2s ease, background .2s ease;
}
#storefront .sf-cta:hover{ transform: translateY(-3px); background: var(--sf-purple-2); box-shadow: 0 16px 40px rgba(124,58,237,.22); }

/* ====== Homepage extras (purple vibes) ====== */
#storefront .hp-hero{ position: relative; overflow: hidden; }
#storefront .hp-hero-grid{ display:grid; grid-template-columns: 1fr; gap: 14px; align-items:center; }
@media (min-width: 980px){ #storefront .hp-hero-grid{ grid-template-columns: 1.1fr 1fr; } }
#storefront .hp-hero-media{ position: relative; margin-top: 14px; border-radius: 16px; overflow: hidden; box-shadow: 0 20px 45px rgba(109,40,217,.18); }
#storefront .hp-hero-img{ width:100%; height: 320px; object-fit: cover; display:block; transform: scale(1.02); transition: transform .6s ease; }
#storefront .hp-hero-img--small{ display:none; }
#storefront .hp-hero:hover .hp-hero-img{ transform: scale(1.06); }
#storefront .hp-hero-gradient{ position:absolute; inset:0; background: linear-gradient(180deg, rgba(124,58,237,.16), rgba(255,255,255,0)); pointer-events:none; }
#storefront .hp-hero::before{ content:none; }
#storefront .hp-hero *{ position: relative; z-index:1; }
#storefront .hp-hero-pills{ display:flex; gap:8px; flex-wrap:wrap; margin-top: 10px; }
#storefront .hp-pill{ display:inline-flex; align-items:center; height:28px; padding:0 10px; border-radius:999px; font-weight:800; background:#f3e8ff; color:#7c3aed; border:1px solid #e9d5ff; }
#storefront .hp-intro-list{ list-style:none; padding:0; margin: 6px auto 0; max-width: 820px; color:#404252; }
#storefront .hp-intro-list li{ position:relative; padding-right: 1.2rem; margin:.25rem 0; }
#storefront .hp-intro-list li::before{ content:'✓'; position:absolute; right:0; color:#7c3aed; font-weight:900; }

#storefront .hp-section{ max-width:1320px; margin: 0 auto; padding: 12px 16px 24px; }
#storefront .hp-title{ text-align:center; font-size: 1.6rem; color: var(--purple-700); margin: 8px 0 4px; font-weight: 900; }
#storefront .hp-lead{ text-align:center; color:#5b5671; margin: 0 auto 10px; max-width: 840px; }

#storefront .hp-feature-grid{ display:grid; grid-template-columns: repeat(1, minmax(0,1fr)); gap:12px; margin-top:10px; }
@media (min-width: 720px){ #storefront .hp-feature-grid{ grid-template-columns: repeat(3, minmax(0,1fr)); } }
#storefront .hp-feature-card{ border-radius: 16px; padding: 14px; transition: transform .15s ease, box-shadow .15s ease; }
#storefront .hp-feature-card:hover{ transform: translateY(-4px); box-shadow: 0 16px 40px rgba(124,58,237,.18); }
#storefront .hp-feature-icon{ font-size: 1.4rem; }
#storefront .hp-feature-title{ margin: 6px 0 2px; color:#6d28d9; font-weight:900; }
#storefront .hp-feature-text{ margin:0; color:#404252; }

#storefront .hp-gallery-grid{ display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:10px; margin-top: 10px; }
@media (min-width: 900px){ #storefront .hp-gallery-grid{ grid-template-columns: repeat(3, minmax(0,1fr)); } }
#storefront .hp-gallery-item{ position:relative; border-radius: 14px; overflow:hidden; border:1px solid #ede3ff; box-shadow: 0 10px 25px rgba(124,58,237,.10); }
#storefront .hp-gallery-item img{ width:100%; height:100%; display:block; object-fit:cover; transition: transform .4s ease; transform: scale(1.02); }
#storefront .hp-gallery-item:hover img{ transform: scale(1.08); }

#storefront .hp-cta-banner{ padding: 10px 16px 22px; }
#storefront .hp-cta-inner{ max-width: 1100px; margin: 0 auto; background: linear-gradient(90deg, rgba(124,58,237,.08), rgba(168,85,247,.08)); border:1px solid #e9d5ff; border-radius: 18px; box-shadow: 0 16px 40px rgba(124,58,237,.12); padding: 16px; text-align:center; }
#storefront .hp-cta-inner h3{ margin: 0; color:#6d28d9; font-size: 1.3rem; font-weight: 900; }
#storefront .hp-cta-inner p{ margin: 6px 0 10px; color:#404252; }
#storefront .hp-cta-actions{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap; }

/* FAQ */
#storefront .hp-faq{ padding-bottom: 26px; }
#storefront .hp-faq-list{ max-width: 900px; margin: 0 auto; display:grid; gap: 8px; }
#storefront .hp-faq-item{ background: rgba(250,245,255,.8); border: 1px solid #e9d5ff; border-radius: 14px; padding: 10px 12px; box-shadow: 0 8px 22px rgba(124,58,237,.10); }
#storefront .hp-faq-item summary{ cursor: pointer; font-weight: 900; color: #6d28d9; }
#storefront .hp-faq-item p{ margin: 8px 0 0; color: #404252; }

/* Services */
#storefront .hp-services{ padding-top: 6px; }
#storefront .hp-services-grid{ display:grid; grid-template-columns: repeat(1, minmax(0,1fr)); gap:12px; margin-top: 10px; }
@media (min-width: 900px){ #storefront .hp-services-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
#storefront .hp-service-card{ display:grid; grid-template-columns: 1fr; background: #fff; border:1px solid #ede3ff; border-radius: 16px; overflow:hidden; box-shadow: 0 12px 32px rgba(124,58,237,.12); }
#storefront .hp-service-img{ width:100%; height: 220px; object-fit: cover; }
#storefront .hp-service-body{ padding: 12px; position: relative; }
#storefront .hp-service-actions{ margin-top: 8px; display:flex; gap:8px; }
#storefront .hp-price-badge{ position:absolute; top: -12px; left: 12px; background: linear-gradient(90deg, #7c3aed, #9333ea); color:#fff; padding: 6px 10px; font-weight:900; border-radius: 999px; box-shadow: 0 6px 16px rgba(124,58,237,.35); }

/* Social */
#storefront .hp-social-row{ margin-top: 6px; display:flex; flex-wrap: wrap; gap: 10px; justify-content:center; }
#storefront .hp-social-link{ display:inline-flex; align-items:center; gap:8px; background: #fff; border:1px solid #ede3ff; border-radius: 12px; padding: 8px 12px; color:#6d28d9; text-decoration:none; font-weight:900; box-shadow: 0 8px 22px rgba(124,58,237,.10); transition: transform .18s ease, box-shadow .18s ease, background .18s ease; }
#storefront .hp-social-link:hover{ transform: translateY(-2px); box-shadow: 0 14px 34px rgba(124,58,237,.18); background:#faf5ff; }
#storefront .hp-social-link.hp-linktree{ color:#065f46; border-color:#a7f3d0; background: linear-gradient(90deg, #ecfdf5, #d1fae5); }
#storefront .hp-social-link.hp-linktree:hover{ box-shadow: 0 14px 34px rgba(16,185,129,.28); }
#storefront .hp-social-ico{ width:18px; height:18px; display:block; filter: contrast(1.2) saturate(1.2); }

/* Intro extra paragraph */
#storefront .hp-intro-more{ text-align:center; color:#4b5563; margin: 6px auto 0; max-width: 900px; }

/* Calendly section */
#storefront .hp-cal-card{ display:grid; grid-template-columns: 1fr; gap: 10px; border-radius: 18px; overflow:hidden; }
@media (min-width: 900px){ #storefront .hp-cal-card{ grid-template-columns: .9fr 1.1fr; } }
#storefront .hp-cal-media img{ width:100%; height: 100%; max-height: 260px; object-fit: cover; display:block; }
#storefront .hp-cal-body{ padding: 12px; }

/* Contact */
#storefront .hp-contact-grid{ display:grid; grid-template-columns: 1fr; gap: 10px; }
@media (min-width: 900px){ #storefront .hp-contact-grid{ grid-template-columns: 1fr 1fr; } }
#storefront .hp-contact-card{ padding: 12px; border-radius: 16px; }

/* Glass water utility */
.glass-water{
  position: relative;
  background: linear-gradient(145deg, rgba(255,255,255,0.32), rgba(255,255,255,0.14));
  border: 1px solid rgba(255,255,255,0.38);
  -webkit-backdrop-filter: blur(26px) saturate(180%);
  backdrop-filter: blur(26px) saturate(180%);
  box-shadow: 0 26px 70px rgba(82,56,189,0.18);
  color: var(--ink);
  transition: border-color .18s ease, background .18s ease, box-shadow .18s ease;
  overflow: hidden;
}
.glass-water::before{
  content: '';
  position: absolute;
  inset: -40% -40% auto auto;
  width: 70%;
  height: 70%;
  background: radial-gradient(circle at top right, rgba(255,255,255,0.65), rgba(255,255,255,0) 65%);
  opacity: 0.8;
  pointer-events: none;
}

/* Info blocks */
.info-grid{
  max-width:1100px; margin:14px auto 0;
  display:grid; gap:12px; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));
}
.info-block{
  background: rgba(255,255,255,0.14); border:1px solid rgba(255,255,255,0.28);
  -webkit-backdrop-filter: blur(14px) saturate(160%);
  backdrop-filter: blur(14px) saturate(160%);
  border-radius: var(--r-md); padding:16px; box-shadow: 0 10px 25px rgba(124,58,237,.12);
}
.info-icon{ font-size:20px; }
.info-title{ font-weight: 800; margin-top:6px; }
.info-text{ margin:6px 0 0; color: var(--ink-dim); font-size:.95rem; }

/* Grid */
#storefront .sf-grid{
  padding:18px 16px; max-width:1320px; margin:0 auto;
  display:grid; grid-template-columns:repeat(1,minmax(0,1fr)); gap:18px;
}
@media (min-width:640px){ #storefront .sf-grid{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
@media (min-width:1024px){ #storefront .sf-grid{ grid-template-columns:repeat(3,minmax(0,1fr)); gap:1.2rem; } }
@media (min-width:1280px){ #storefront .sf-grid{ grid-template-columns:repeat(4,minmax(0,1fr)); gap:1.2rem; } }

/* Card */
#storefront .sf-card{
  position: relative; isolation: isolate;
  background: rgba(255,255,255,0.10); border:1px solid rgba(255,255,255,0.22);
  -webkit-backdrop-filter: blur(16px) saturate(170%);
  backdrop-filter: blur(16px) saturate(170%);
  border-radius: var(--sf-radius); overflow: hidden; box-shadow: 0 10px 25px rgba(124,58,237,.12);
  transform: translateZ(0);
  transition: transform .22s cubic-bezier(.2,.8,.2,1), box-shadow .22s ease;
}
#storefront .sf-card:hover{ transform: translateY(-8px); box-shadow: 0 20px 50px rgba(109,40,217,.18); }

/* Ribbon & overlay */
#storefront .sf-ribbon{
  position:absolute; top:12px; right:-26px; z-index:3;
  background: linear-gradient(90deg, var(--purple-700), var(--purple-600));
  color:#fff; font-weight:800; font-size:.8rem; letter-spacing:.2px;
  padding:6px 18px; transform: rotate(-10deg);
  box-shadow: 0 10px 28px rgba(124,58,237,.25); border-radius:10px;
}

/* Media */
#storefront .sf-media{ position: relative; aspect-ratio: 4 / 3; overflow: hidden; background:#fff; }
#storefront .sf-img{
  width:100%; height:100%; object-fit:cover; display:block;
  transform: scale(1.01); transition: transform .35s ease; will-change: transform;
}
#storefront .sf-card:hover .sf-img{ transform: scale(1.06); }
#storefront .sf-overlay{
  position:absolute; inset:0; z-index:1;
  /* Neutral overlay only to improve text contrast on images */
  background:
    linear-gradient(180deg, rgba(0,0,0,0) 30%, rgba(0,0,0,.10) 100%);
}

/* Badge */
#storefront .sf-badge{
  position:absolute; top:12px; left:12px; z-index:2;
  font-size:.75rem; padding:6px 10px; border-radius:999px; font-weight:700;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
}
#storefront .sf-badge-book{ background: #ede9fe; color: #5b21b6; }
#storefront .sf-badge-video{ background: #e0f2fe; color: #075985; }

/* Body */
#storefront .sf-body{ padding:16px; display:flex; flex-direction:column; gap:8px; }
#storefront .sf-meta{ display:flex; align-items:center; justify-content:space-between; gap:.6rem; color: var(--ink-dim); font-size:.9rem; }
#storefront .sf-card-title{ font-weight:800; font-size:1.1rem; margin:.25rem 0 .45rem; color: var(--ink); }
#storefront .sf-desc{ color: var(--ink-dim); }

/* Snippet */
#storefront .sf-snippet{
  background: var(--purple-50); border:1px dashed var(--purple-200);
  border-radius: var(--r-sm); padding:10px 12px; margin-top:.6rem;
}
#storefront .sf-snippet-label{ font-weight:800; color:#6b21a8; margin-inline-end:6px; }
#storefront .sf-snippet-text{ color:#4c3a75; }

/* Bullets */
#storefront .sf-bullets{
  list-style:none; padding:0; margin:.6rem 0 0; display:grid; gap:.35rem;
  color:#4b5563; font-size:.95rem;
}
#storefront .sf-bullets li{ position:relative; padding-right:1.2rem; }
#storefront .sf-bullets li::before{ content:'✓'; position:absolute; right:0; top:0; color: var(--purple-700); font-weight:900; }

/* Price & actions */
#storefront .sf-price-block{
  display:flex; align-items:center; justify-content:space-between;
  background:#faf7ff; border:1px dashed var(--purple-200);
  border-radius: var(--r-sm); padding:.55rem .8rem; margin-top:.7rem;
}
#storefront .sf-price{ display:flex; align-items:flex-end; gap:.25rem; color: var(--purple-700); }
#storefront .sf-price-number{ font-size:1.45rem; font-weight:900; line-height:1; }
#storefront .sf-price-currency{ font-weight:800; opacity:.9; }
#storefront .sf-price-note{ font-size:.85rem; color: var(--muted); }

#storefront .sf-actions{ display:grid; grid-template-columns:1fr 1fr; gap:.6rem; margin-top:.9rem; }
#storefront .sf-btn{ text-align:center; padding:.55rem .7rem; border-radius: var(--r-sm); font-weight:700; transition: transform .12s ease, background .12s ease, color .12s ease, border-color .12s ease; cursor: pointer; }
#storefront .sf-btn-primary{ background: var(--purple-700); color:#fff; border:1px solid transparent; }
#storefront .sf-btn-primary:hover{ background: var(--purple-600); transform: translateY(-2px); }
#storefront .sf-btn-outline{ background:#fff; color: var(--purple-700); border:1px solid var(--purple-200); }
#storefront .sf-btn-outline:hover{ background: var(--purple-100); transform: translateY(-2px); }

#storefront .sf-bonus{ margin-top:.6rem; font-size:.82rem; color: var(--muted); }

/* ======================================================================
   Download Form Card (no Tailwind needed)
   ====================================================================== */
#download.dl-section{ padding: 32px 16px; }
.dl-card{
  max-width: 640px; margin: 0 auto;
  border-radius: var(--r-xl);
  padding: clamp(24px, 5vw, 32px);
  border: none;
  box-shadow: none;
}
.dl-title{ font-size: 1.6rem; font-weight: 900; color: var(--purple-700); margin-bottom: .75rem; text-align: center; }
.dl-sub{ color: var(--ink-dim); font-size: .95rem; text-align: center; margin-bottom: 1rem; }

.dl-form{ display: grid; gap: .9rem; }
.dl-field{ display: grid; gap: .35rem; }
.dl-label{ font-size: .9rem; color: var(--ink-dim); font-weight: 800; }

.dl-input{
  width:100%; padding:.7rem .9rem; border-radius: var(--r-md);
  border:1px solid rgba(124,58,237,.28);
  background: rgba(255,255,255,0.88); color:var(--ink);
  transition: border-color .15s ease, box-shadow .15s ease;
  box-shadow: none;
}
.dl-input::placeholder{ color:#a3a3a3; }
.dl-input:focus{ border-color: rgba(124,58,237,.55); box-shadow: 0 0 0 2px rgba(124,58,237,.22); outline:none; }

/* Button */
.dl-actions{ margin-top: .4rem; }
.dl-btn{
  width:100%; border:none; border-radius: 14px; padding: .85rem 1rem;
  background: linear-gradient(90deg, rgba(124,58,237,0.95), rgba(168,85,247,0.9));
  color: #fff; font-weight: 800; cursor: pointer;
  box-shadow: none;
  transition: transform .15s ease, opacity .15s ease;
}
.dl-btn:hover{ transform: translateY(-2px); }
.dl-btn:disabled{ opacity:.6; cursor:not-allowed; }

/* Alerts */
.dl-alert{ margin-top:.6rem; font-weight:700; border-radius: var(--r-sm); padding:.7rem .9rem; }
.dl-alert-success{ background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0; }
.dl-alert-danger{ background:#fef2f2; color:#991b1b; border:1px solid #fecaca; }

/* Honeypot (keep hidden) */
.dl-hp{ position:absolute; left:-9999px; width:1px; height:1px; opacity:0; pointer-events:none; }

/* ======================================================================
   Calendar (kept, lightly polished)
   ====================================================================== */
.react-calendar{
  border:1px solid rgba(255,255,255,0.28) !important;
  border-radius: var(--r-md); padding: 1.5rem;
  background: rgba(255,255,255,0.14);
  box-shadow: none;
  -webkit-backdrop-filter: blur(18px) saturate(150%);
  backdrop-filter: blur(18px) saturate(150%);
  font-family: 'Tajawal', sans-serif; direction: rtl; transition: all .3s ease-in-out;
  max-width:100%; width:100%;
}
.react-calendar__navigation{ margin-bottom: 1rem; }
.react-calendar__navigation button{
  color: var(--purple-700); font-weight: 800; background: none; border: none; font-size: 1rem; transition: color .3s ease;
}
.react-calendar__navigation button:hover{ color: var(--purple-600); }
.react-calendar__month-view__weekdays{ text-align:center; text-transform: capitalize; color: var(--purple-600); font-weight: 700; font-size: .95rem; }
.react-calendar__tile{
  padding: .8em .6em; border-radius: 9999px; transition: all .2s ease-in-out; font-weight: 600; font-size: .95rem; color: #444;
}
.react-calendar__tile--active{ background-color: var(--purple-700) !important; color: #fff !important; box-shadow: 0 0 0 3px var(--purple-200); }
.react-calendar__tile:hover{ background-color: var(--purple-100); color: var(--purple-700); transform: scale(1.05); }
.react-calendar__tile--now{ background: #ede9fe; color: var(--purple-700); font-weight: 800; border: 1px dashed var(--purple-400); }
.highlight-note{ background-color: var(--purple-100) !important; color: var(--purple-700) !important; font-weight: 800; border: 2px dashed var(--purple-300); }
.note-tooltip{ position: relative; display:flex; flex-direction: column; align-items: center; font-size: .9rem; }
.note-text{ font-size: 10px; color: var(--purple-600); margin-top:.2rem; white-space: nowrap; }
.note-tooltip:hover .note-text{ color: var(--purple-700); font-weight: 700; }

/* --- Responsive tweaks --- */
@media (max-width: 600px){
  .main-container { padding: 2rem 1rem; }
  h1 { font-size: 1.7rem; }
  h2 { font-size: 1.4rem; }
  p { font-size: 1rem; }
  .react-calendar { padding: 1rem; }
}

/* --- Reduced motion --- */
@media (prefers-reduced-motion: reduce){
  *{ animation-duration: .01ms !important; animation-iteration-count: 1 !important; transition-duration: .01ms !important; scroll-behavior: auto !important; }
}
/* =========================
   Redeem (استبدال الكود)
   ========================= */
  #redeem.rd-section{ padding: 32px 16px; background: transparent; }
   .rd-card{
     max-width: 560px; margin: 0 auto;
     border-radius: var(--r-xl, 22px);
     padding: clamp(22px, 5vw, 28px);
     border: none;
     box-shadow: none;
     background: rgba(255,255,255,0.78);
     -webkit-backdrop-filter: blur(22px) saturate(160%);
     backdrop-filter: blur(22px) saturate(160%);
     box-shadow: 0 22px 55px rgba(79,70,229,0.18);
     border: 1px solid rgba(255,255,255,0.6);
   }
   
   .rd-title{
     font-size: 1.7rem; font-weight: 900;
     color: var(--purple-700, #7c3aed);
     text-align: center; margin-bottom: .4rem;
   }
   .rd-sub{
     color: var(--ink-dim, #5b5671);
     text-align: center; margin-bottom: 1rem; font-size: .98rem;
   }
   
   .rd-form{ display: grid; gap: .9rem; }
   .rd-field{ position: relative; display: grid; gap: .35rem; }
   .rd-label{ font-size: .92rem; color: var(--ink-dim, #5b5671); font-weight: 800; }
   
   .rd-input{
     width: 100%;
     padding: .75rem .9rem;
     padding-right: 2.2rem; /* room for icon on the right (RTL) */
     border: 1px solid rgba(124,58,237,.28);
     border-radius: var(--r-md, 16px);
     background: rgba(255,255,255,0.85);
     color: var(--ink, #201a2d);
     transition: border-color .15s ease, box-shadow .15s ease;
     font-weight: 800; letter-spacing: .05em;
     box-shadow: none;
   }
   .rd-input::placeholder{ color:#a3a3a3; font-weight: 600; letter-spacing: .02em; }
   .rd-input:focus{
     border-color: rgba(124,58,237,.55);
     box-shadow: 0 0 0 2px rgba(124,58,237,.25);
     outline: none;
   }
   .rd-input[aria-invalid="true"]{
     border-color: #fecaca; box-shadow: 0 0 0 3px rgba(248,113,113,.25);
   }
   
   .rd-input-icon{
     position: absolute; right: .65rem; top: 50%; transform: translateY(-50%);
     font-size: 1.1rem; opacity: .9; pointer-events: none;
   }
   
   /* Tiny actions next to the input */
   .rd-field-tools{
     position: absolute; left: .5rem; top: 50%; transform: translateY(-50%);
     display: flex; gap: .35rem;
   }
   .rd-tool{
     appearance: none; border: 1px solid rgba(124,58,237,.28);
     background: rgba(255,255,255,0.85);
     color: var(--purple-700,#7c3aed);
     font-size: .78rem; font-weight: 800; padding: .25rem .5rem;
     border-radius: 999px; cursor: pointer;
     transition: transform .12s ease, background .12s ease, border-color .12s ease;
     box-shadow: none;
   }
   .rd-tool:hover{
     background: rgba(124,58,237,0.08);
     border-color: rgba(124,58,237,0.45);
     transform: translateY(-1px);
   }
   
   /* Submit */
   .rd-actions{ margin-top: .2rem; }
   .rd-btn{
     width: 100%;
     border: none; border-radius: 14px; padding: .9rem 1rem;
     background: linear-gradient(90deg, rgba(124,58,237,0.92), rgba(168,85,247,0.92));
     color: #fff; font-weight: 900; cursor: pointer;
     box-shadow: none;
     transition: transform .15s ease, opacity .15s ease;
   }
   .rd-btn:hover{ transform: translateY(-2px); }
   .rd-btn:disabled{ opacity:.6; cursor:not-allowed; }
   
   .rd-btn.is-loading{
     position: relative; color: transparent !important;
   }
   .rd-btn.is-loading::after{
     content: ''; position: absolute; inset: 50% auto auto 50%; transform: translate(-50%,-50%);
     width: 18px; height: 18px; border-radius: 50%;
     border: 3px solid rgba(255,255,255,.5); border-top-color: #fff;
     animation: rd-spin .8s linear infinite;
   }
   @keyframes rd-spin{ to { transform: translate(-50%,-50%) rotate(360deg); } }
   
   /* Alerts & tip */
   .rd-alert{
     margin-top:.2rem; font-weight:700; border-radius: 12px; padding:.7rem .9rem; text-align: center;
   }
   .rd-alert-danger{ background:#fef2f2; color:#991b1b; border:1px solid #fecaca; }
   .rd-tip{ margin-top: .4rem; color: var(--muted, #6b7280); font-size: .9rem; text-align: center; }
   
   /* Respect reduced motion */
   @media (prefers-reduced-motion: reduce){
     .rd-btn, .rd-tool{ transition: none !important; }
   }
   
/* Bricks-style homepage CSS removed (reverted to original) */
